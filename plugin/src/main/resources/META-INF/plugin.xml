<idea-plugin>
    <id>io.github.setheclark.flocon_plugin</id>
    <name>Network Inspector</name>
    <vendor email="todo@example.com" url="https://example.com">TODO</vendor>

    <description><![CDATA[
        Network traffic inspector for Android apps using the Flocon SDK.

        <h3>Features</h3>
        <ul>
            <li>Real-time network traffic inspection from connected Android devices</li>
            <li>View HTTP request/response details including headers and body</li>
            <li>Timeline visualization of network activity</li>
            <li>Support for multiple connected devices simultaneously</li>
            <li>Filter and search network requests</li>
        </ul>

        <h3>Usage</h3>
        <ol>
            <li>Integrate the Flocon SDK into your Android app</li>
            <li>Connect your device via USB or WiFi</li>
            <li>Open the Flocon tool window (View → Tool Windows → Flocon)</li>
            <li>Run your app and watch network traffic appear in real-time</li>
        </ol>

        <p>For more information, visit <a href="https://github.com/openflocon/Flocon">Flocon on GitHub</a></p>
    ]]></description>

    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="com.intellij">
        <!-- Tool Window -->
        <toolWindow
            id="Network Inspector"
            anchor="bottom"
            icon="/icons/icon.svg"
            factoryClass="io.github.setheclark.intellij.ui.FloconToolWindowFactory"/>

        <!-- Project Service - manages server lifecycle per project -->
        <projectService
            serviceImplementation="io.github.setheclark.intellij.services.FloconProjectService"/>

        <!-- Application Service - shared across all projects -->
        <applicationService
            serviceImplementation="io.github.setheclark.intellij.services.FloconApplicationService"/>

        <!-- ADB Service - manages ADB reverse forwarding -->
        <applicationService
            serviceImplementation="io.github.setheclark.intellij.services.AdbService"/>
    </extensions>

    <actions>
        <group id="Flocon.ToolbarActions" text="Flocon Actions">
            <action
                id="Flocon.ClearAll"
                class="io.github.setheclark.intellij.ui.actions.ClearAllAction"
                text="Clear All"
                description="Clear all captured network traffic"
                icon="AllIcons.Actions.GC"/>
        </group>
    </actions>
</idea-plugin>
